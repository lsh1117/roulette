import{r as b,o as g,S as C,P as h,W as _,k,l as x,m as B,n as f,C as v,a as z,g as S}from"./index.js";const M={__name:"About",setup(q){const d=b(null);let l,u,c,r,s,a;g(()=>{y(),A(),w()});function y(){const n=window.innerWidth,t=window.innerHeight;l=new C,u=new h(75,n/t,.1,1e3),u.position.z=500,c=new _,c.setSize(n,t),d.value.appendChild(c.domElement);const e=512,o=new k,m=new Float32Array(e*3),p=new Float32Array(e*3);a=new x(o,new B({size:2,vertexColors:!0}));for(let i=0;i<e;i++)m[i*3]=(i-e/2)*2,p[i*3+1]=i/e;o.setAttribute("position",new f(m,3)),o.setAttribute("color",new f(p,3)),l.add(a)}function A(){const n=new Audio("/assets/mp3/Jackson.mp3"),t=new(window.AudioContext||window.webkitAudioContext),e=t.createMediaElementSource(n);r=t.createAnalyser(),e.connect(r),r.connect(t.destination),r.fftSize=1024,s=new Uint8Array(r.frequencyBinCount),n.play()}function w(){requestAnimationFrame(w),r.getByteFrequencyData(s);let n=a.geometry.attributes.position.array,t=a.geometry.attributes.color.array;for(let e=0;e<s.length;e++){n[e*3+1]=s[e]*.5-100;const o=new v(`hsl(${s[e]*1.2}, 100%, 50%)`);t[e*3]=o.r,t[e*3+1]=o.g,t[e*3+2]=o.b}a.geometry.attributes.position.needsUpdate=!0,a.geometry.attributes.color.needsUpdate=!0,c.render(l,u)}return(n,t)=>(S(),z("div",{ref_key:"container",ref:d,class:"visualizer-container"},null,512))}};export{M as default};
