import{d as V,_ as D,r as u,c as d,o as I,a as _,b as m,e as x,t as N,f as P,g as w}from"./index.js";const E=V("marketStore",{state:()=>({markets:[{name:"오군(순두부)",category:"han"},{name:"동원(감자탕)",category:"han"},{name:"오징어풍경",category:"han"},{name:"나주곰탕",category:"han"},{name:"이화수육개장",category:"han"},{name:"오는정(생선구이)",category:"han"},{name:"뼈해장국",category:"han"},{name:"오봉집",category:"han"},{name:"고려보쌈",category:"han"},{name:"부산아지매국밥",category:"han"}],categoryColors:{han:"#D94F30",jung:"#FF5733",yang:"#cba315",il:"#3F72AF",bun:"#FF8FAB",fast:"#C70039"}}),actions:{setMarkets(y){this.markets=y},getMarkets(){return this.markets}}}),H={class:"roulette-container"},X=["disabled"],Y={key:0,class:"result"},j={__name:"HomeView",setup(y){const p=E(),g=u(null),o=u(!1),s=u(null),v=u(0),h=d(()=>p.markets),f=d(()=>h.value.length),l=d(()=>2*Math.PI/f.value),M=d(()=>p.categoryColors),k=()=>{const t=g.value;if(!t)return;const e=t.getContext("2d"),a=t.width/2,n=t.height/2,r=a;e.clearRect(0,0,t.width,t.height),h.value.forEach((c,C)=>{const i=C*l.value,F=i+l.value;e.beginPath(),e.moveTo(a,n),e.arc(a,n,r,i,F),e.closePath();const b=c.category,R=M.value[b]||"#ccc";e.fillStyle=R,e.fill(),e.stroke(),e.fillStyle="white",e.font="16px Arial",e.textAlign="center",e.textBaseline="middle";const T=a+Math.cos(i+l.value/2)*(r*.7),B=n+Math.sin(i+l.value/2)*(r*.7);e.fillText(c.name,T,B)})},S=()=>{if(o.value)return;o.value=!0,s.value=null;let t=Math.random()*10+20;const e=5e3,a=Date.now(),n=()=>{Date.now()-a<e?(t*=.98,v.value+=t,requestAnimationFrame(n)):A(),k();const c=g.value;c.style.transform=`rotate(${v.value}deg)`};n()},A=()=>{const t=v.value%360/360,e=Math.floor(f.value-t*f.value);s.value=h.value[e].name,o.value=!1};return I(()=>{k()}),(t,e)=>(w(),_("div",H,[m("canvas",{ref_key:"canvasRef",ref:g,width:"500",height:"500",class:"roulette"},null,512),e[2]||(e[2]=m("div",{class:"arrow"},null,-1)),m("button",{onClick:S,disabled:o.value},"START",8,X),s.value?(w(),_("p",Y,[e[0]||(e[0]=x("오늘의 점심은 ")),m("strong",null,N(s.value),1),e[1]||(e[1]=x("!"))])):P("",!0)]))}},z=D(j,[["__scopeId","data-v-e3ad528c"]]);export{z as default};
