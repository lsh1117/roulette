import{d as V,_ as B,r as i,c as h,o as C,a as _,b as u,e as x,t as D,f as I,g as w}from"./index.js";const N=V("marketStore",{state:()=>({markets:[{name:"오군(순두부)",type:"한식"},{name:"동원(감자탕)",type:"한식"},{name:"오징어풍경",type:"한식"},{name:"나주곰탕",type:"한식"},{name:"이화수육개장",type:"한식"},{name:"오는정(생선구이)",type:"한식"},{name:"뼈해장국",type:"한식"},{name:"오봉집",type:"한식"}]}),actions:{setMarkets(g){this.markets=g},getMarkets(){return this.markets}}}),P={class:"roulette-container"},E=["disabled"],H={key:0,class:"result"},X={__name:"HomeView",setup(g){const M=N(),d=i(null),n=i(!1),o=i(null),m=i(0),v=h(()=>M.markets),f=h(()=>v.value.length),l=h(()=>2*Math.PI/f.value),k=()=>{const t=d.value;if(!t)return;const e=t.getContext("2d"),a=t.width/2,s=t.height/2,r=a;e.clearRect(0,0,t.width,t.height),v.value.forEach((p,y)=>{const c=y*l.value,R=c+l.value;e.beginPath(),e.moveTo(a,s),e.arc(a,s,r,c,R),e.closePath(),e.fillStyle=y%2===0?"#f4a261":"#e76f51",e.fill(),e.stroke(),e.fillStyle="white",e.font="16px Arial",e.textAlign="center",e.textBaseline="middle";const T=a+Math.cos(c+l.value/2)*(r*.7),b=s+Math.sin(c+l.value/2)*(r*.7);e.fillText(p.name,T,b)})},S=()=>{if(n.value)return;n.value=!0,o.value=null;let t=Math.random()*10+20;const e=5e3,a=Date.now(),s=()=>{Date.now()-a<e?(t*=.98,m.value+=t,requestAnimationFrame(s)):A(),k();const p=d.value;p.style.transform=`rotate(${m.value}deg)`};s()},A=()=>{const t=m.value%360/360,e=Math.floor(f.value-t*f.value);o.value=v.value[e].name,n.value=!1};return C(()=>{k()}),(t,e)=>(w(),_("div",P,[u("canvas",{ref_key:"canvasRef",ref:d,width:"500",height:"500",class:"roulette"},null,512),e[2]||(e[2]=u("div",{class:"arrow"},null,-1)),u("button",{onClick:S,disabled:n.value},"START",8,E),o.value?(w(),_("p",H,[e[0]||(e[0]=x("오늘의 점심은 ")),u("strong",null,D(o.value),1),e[1]||(e[1]=x("!"))])):I("",!0)]))}},q=B(X,[["__scopeId","data-v-e644e1e0"]]);export{q as default};
