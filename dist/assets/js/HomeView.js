import{d as V,_ as D,r as u,c as d,o as I,a as _,b as g,e as x,t as N,f as P,g as w}from"./index.js";const j=V("marketStore",{state:()=>({markets:[{name:"오군(순두부)",category:"han"},{name:"동원(감자탕)",category:"jung"},{name:"오징어풍경",category:"yang"},{name:"나주곰탕",category:"il"},{name:"이화수육개장",category:"bun"},{name:"오는정(생선구이)",category:"fast"},{name:"뼈해장국",category:"han"},{name:"오봉집",category:"han"}],categoryColors:{han:"#D94F30",jung:"#FF5733",yang:"#cba315",il:"#3F72AF",bun:"#FF8FAB",fast:"#C70039"}}),actions:{setMarkets(y){this.markets=y},getMarkets(){return this.markets}}}),E={class:"roulette-container"},H=["disabled"],X={key:0,class:"result"},Y={__name:"HomeView",setup(y){const p=j(),m=u(null),o=u(!1),s=u(null),v=u(0),f=d(()=>p.markets),h=d(()=>f.value.length),l=d(()=>2*Math.PI/h.value),M=d(()=>p.categoryColors),k=()=>{const t=m.value;if(!t)return;const e=t.getContext("2d"),a=t.width/2,n=t.height/2,r=a;e.clearRect(0,0,t.width,t.height),f.value.forEach((c,C)=>{const i=C*l.value,F=i+l.value;e.beginPath(),e.moveTo(a,n),e.arc(a,n,r,i,F),e.closePath();const b=c.category,R=M.value[b]||"#ccc";e.fillStyle=R,e.fill(),e.stroke(),e.fillStyle="white",e.font="16px Arial",e.textAlign="center",e.textBaseline="middle";const T=a+Math.cos(i+l.value/2)*(r*.7),B=n+Math.sin(i+l.value/2)*(r*.7);e.fillText(c.name,T,B)})},S=()=>{if(o.value)return;o.value=!0,s.value=null;let t=Math.random()*10+20;const e=5e3,a=Date.now(),n=()=>{Date.now()-a<e?(t*=.98,v.value+=t,requestAnimationFrame(n)):A(),k();const c=m.value;c.style.transform=`rotate(${v.value}deg)`};n()},A=()=>{const t=v.value%360/360,e=Math.floor(h.value-t*h.value);s.value=f.value[e].name,o.value=!1};return I(()=>{k()}),(t,e)=>(w(),_("div",E,[g("canvas",{ref_key:"canvasRef",ref:m,width:"500",height:"500",class:"roulette"},null,512),e[2]||(e[2]=g("div",{class:"arrow"},null,-1)),g("button",{onClick:S,disabled:o.value},"START",8,H),s.value?(w(),_("p",X,[e[0]||(e[0]=x("오늘의 점심은 ")),g("strong",null,N(s.value),1),e[1]||(e[1]=x("!"))])):P("",!0)]))}},z=D(Y,[["__scopeId","data-v-e3ad528c"]]);export{z as default};
